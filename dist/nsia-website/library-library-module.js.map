{"version":3,"sources":["webpack:///./src/app/library/lib-filter.pipe.ts","webpack:///./src/app/library/library-routing.module.ts","webpack:///./src/app/library/library-services.service.ts","webpack:///./src/app/library/library.module.ts","webpack:///./src/app/library/library/library.component.css","webpack:///./src/app/library/library/library.component.html","webpack:///./src/app/library/library/library.component.ts"],"names":[],"mappings":"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","file":"library-library-module.js","sourcesContent":["import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'libFilter'\r\n})\r\nexport class LibFilterPipe implements PipeTransform {\r\n\r\n  transform(list: any[], filterText: string): any {\r\n    return list ? list.filter(item => item.title.rendered.search(new RegExp(filterText, 'i')) > -1) : [];\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { LibraryComponent } from './library/library.component';\r\nimport { CanDeactivateGuard } from '../services/can-deactivate.guard';\r\n\r\nconst libraryRoutes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LibraryComponent,\r\n    canDeactivate: [CanDeactivateGuard],\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(libraryRoutes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class LibraryRoutingModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { DataService } from '../data.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class LibraryServicesService {\r\n\r\n  constructor(private http: HttpClient, private dataService: DataService) { }\r\n\r\n  getLibraryData(customP, catName, page) {\r\n    return this.http.get(this.dataService.api + 'posts', {\r\n      observe: 'response',\r\n      params: {\r\n        'filter[category_name]': catName,\r\n        per_page: '8',\r\n        page: page,\r\n        lang: this.dataService.language,\r\n        fields: customP.join(','),\r\n        orederby: 'date'\r\n      }\r\n    });\r\n  }\r\n\r\n  htmlToPlaintext(text) {\r\n    return text ? String(text).replace(/<[^>]+>/gm, '') : '';\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\n\r\nimport { LibraryRoutingModule } from './library-routing.module';\r\n\r\nimport { LibraryComponent } from './library/library.component';\r\nimport { NgxPaginationModule } from 'ngx-pagination';\r\n\r\nimport { LibFilterPipe } from './lib-filter.pipe';\r\n\r\n\r\nexport function createTranslateLoader(http: HttpClient) {\r\n  return new TranslateHttpLoader(http, './assets/i18n/', '.json');\r\n}\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    LibraryComponent,\r\n    LibFilterPipe\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    LibraryRoutingModule,\r\n    FormsModule,\r\n    HttpClientModule,\r\n    NgxPaginationModule,\r\n    TranslateModule.forChild({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: (createTranslateLoader),\r\n        deps: [HttpClient],\r\n      }\r\n    })\r\n  ]\r\n})\r\nexport class LibraryModule { }\r\n","module.exports = \".lib-btn {\\r\\n  display: inline;\\r\\n  text-align: center;\\r\\n  font-weight: bold !important;\\r\\n  border: 1px solid #282560;\\r\\n  margin: 5px;\\r\\n  text-transform: uppercase;\\r\\n  cursor: pointer;\\r\\n  padding: 10px 5px;\\r\\n  flex: auto;\\r\\n}\\r\\n\\r\\n.lib-btn:hover {\\r\\n  border-color: #282560;\\r\\n  background-color: #282560;\\r\\n  color: #fff;\\r\\n}\\r\\n\\r\\n.lib-btn p {\\r\\n  margin: 0px !important;\\r\\n}\\r\\n\\r\\n.lib {\\r\\n  margin: 3% 8%;\\r\\n  display: flex;\\r\\n}\\r\\n\\r\\n.search-wrapper {\\r\\n  width: -webkit-fit-content;\\r\\n  width: -moz-fit-content;\\r\\n  width: fit-content;\\r\\n  margin: auto;\\r\\n  margin-bottom: 2rem;\\r\\n}\\r\\n\\r\\n.active-libraray {\\r\\n  background-color: #282560;\\r\\n  color: #fff;\\r\\n}\\r\\n\\r\\nimg {\\r\\n  height: 75%;\\r\\n  width: 70%;\\r\\n}\\r\\n\\r\\nh5 {\\r\\n  font-weight: bold !important;\\r\\n  margin-top: 20px;\\r\\n}\\r\\n\\r\\n.content {\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\na {\\r\\n  color: #282560;\\r\\n}\\r\\n\\r\\n.lib-pagination /deep/ .ngx-pagination .current {\\r\\n  background: #01a79b;\\r\\n}\\r\\n\\r\\n.lb-attachment {\\r\\n  margin-bottom: 2rem;\\r\\n  min-height: 280px;\\r\\n}\\r\\n\\r\\n.paginator {\\r\\n  margin-top: 1rem;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGlicmFyeS9saWJyYXJ5L2xpYnJhcnkuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGVBQWU7RUFDZixrQkFBa0I7RUFDbEIsNEJBQTRCO0VBQzVCLHlCQUF5QjtFQUN6QixXQUFXO0VBQ1gseUJBQXlCO0VBQ3pCLGVBQWU7RUFDZixpQkFBaUI7RUFDakIsVUFBVTtBQUNaOztBQUVBO0VBQ0UscUJBQXFCO0VBQ3JCLHlCQUF5QjtFQUN6QixXQUFXO0FBQ2I7O0FBRUE7RUFDRSxzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsYUFBYTtBQUNmOztBQUVBO0VBQ0UsMEJBQWtCO0VBQWxCLHVCQUFrQjtFQUFsQixrQkFBa0I7RUFDbEIsWUFBWTtFQUNaLG1CQUFtQjtBQUNyQjs7QUFHQTtFQUNFLHlCQUF5QjtFQUN6QixXQUFXO0FBQ2I7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsVUFBVTtBQUNaOztBQUVBO0VBQ0UsNEJBQTRCO0VBQzVCLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGNBQWM7QUFDaEI7O0FBQ0E7RUFDRSxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsZ0JBQWdCO0FBQ2xCIiwiZmlsZSI6InNyYy9hcHAvbGlicmFyeS9saWJyYXJ5L2xpYnJhcnkuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5saWItYnRuIHtcclxuICBkaXNwbGF5OiBpbmxpbmU7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkICFpbXBvcnRhbnQ7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgIzI4MjU2MDtcclxuICBtYXJnaW46IDVweDtcclxuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuICBwYWRkaW5nOiAxMHB4IDVweDtcclxuICBmbGV4OiBhdXRvO1xyXG59XHJcblxyXG4ubGliLWJ0bjpob3ZlciB7XHJcbiAgYm9yZGVyLWNvbG9yOiAjMjgyNTYwO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMyODI1NjA7XHJcbiAgY29sb3I6ICNmZmY7XHJcbn1cclxuXHJcbi5saWItYnRuIHAge1xyXG4gIG1hcmdpbjogMHB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5saWIge1xyXG4gIG1hcmdpbjogMyUgOCU7XHJcbiAgZGlzcGxheTogZmxleDtcclxufVxyXG5cclxuLnNlYXJjaC13cmFwcGVyIHtcclxuICB3aWR0aDogZml0LWNvbnRlbnQ7XHJcbiAgbWFyZ2luOiBhdXRvO1xyXG4gIG1hcmdpbi1ib3R0b206IDJyZW07XHJcbn1cclxuXHJcblxyXG4uYWN0aXZlLWxpYnJhcmF5IHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjgyNTYwO1xyXG4gIGNvbG9yOiAjZmZmO1xyXG59XHJcblxyXG5pbWcge1xyXG4gIGhlaWdodDogNzUlO1xyXG4gIHdpZHRoOiA3MCU7XHJcbn1cclxuXHJcbmg1IHtcclxuICBmb250LXdlaWdodDogYm9sZCAhaW1wb3J0YW50O1xyXG4gIG1hcmdpbi10b3A6IDIwcHg7XHJcbn1cclxuXHJcbi5jb250ZW50IHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbmEge1xyXG4gIGNvbG9yOiAjMjgyNTYwO1xyXG59XHJcbi5saWItcGFnaW5hdGlvbiAvZGVlcC8gLm5neC1wYWdpbmF0aW9uIC5jdXJyZW50IHtcclxuICBiYWNrZ3JvdW5kOiAjMDFhNzliO1xyXG59XHJcblxyXG4ubGItYXR0YWNobWVudCB7XHJcbiAgbWFyZ2luLWJvdHRvbTogMnJlbTtcclxuICBtaW4taGVpZ2h0OiAyODBweDtcclxufVxyXG5cclxuLnBhZ2luYXRvciB7XHJcbiAgbWFyZ2luLXRvcDogMXJlbTtcclxufSJdfQ== */\"","module.exports = \"<div class=\\\"margin-top content-justify\\\">\\r\\n  <div class=\\\"custom-container\\\">\\r\\n    <div class=\\\"section-wrapper\\\">\\r\\n      <div class=\\\" lib\\\">\\r\\n        <div class=\\\" lib-btn active-libraray\\\" id=\\\"books\\\" (click)=\\\"showLibraries($event.target)\\\">\\r\\n          <p class=\\\"books\\\">{{'btn.books' | translate}}</p>\\r\\n        </div>\\r\\n        <div class=\\\" lib-btn\\\" id=\\\"surveys\\\" (click)=\\\"showLibraries($event.target)\\\">\\r\\n          <p>{{'btn.surveys' | translate}}</p>\\r\\n        </div>\\r\\n        <div class=\\\" lib-btn\\\" id=\\\"reports\\\" (click)=\\\"showLibraries($event.target)\\\">\\r\\n          <p>{{'btn.reports' | translate}}</p>\\r\\n        </div>\\r\\n        <div class=\\\" lib-btn\\\" id=\\\"quarterly\\\" (click)=\\\"showLibraries($event.target)\\\">\\r\\n          <p>{{'btn.quarterly' | translate}}</p>\\r\\n        </div>\\r\\n        <div class=\\\" lib-btn\\\" id=\\\"monthly\\\" (click)=\\\"showLibraries($event.target)\\\">\\r\\n          <p>{{'btn.monthly' | translate}}</p>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"search-wrapper\\\">\\r\\n        <div class=\\\"search-input\\\">\\r\\n          <div class=\\\"wrapper\\\">\\r\\n            <input type=\\\"text\\\" placeholder=\\\"{{'label.search-website' | translate }}\\\" class=\\\"search-box\\\"\\r\\n              [(ngModel)]=\\\"filterText\\\">\\r\\n            <i class=\\\"fas fa-search\\\"></i>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"row content\\\" *ngIf=\\\"contents.length > 0 ; else nodata\\\">\\r\\n        <div class=\\\"col-lg-3 col-md-3 col-sm-6 lb-attachment\\\"\\r\\n          *ngFor=\\\"let content of contents | paginate: { itemsPerPage: pageLimit , currentPage: p , totalItems: total } |  libFilter:filterText \\\">\\r\\n          <!-- <a *ngIf=\\\"content.attachment\\\" href=\\\"{{content.attachment}}\\\"\\r\\n             target=\\\"_blank\\\"> -->\\r\\n          <a [href]=\\\"content.attachment\\\" target=\\\"_blank\\\">\\r\\n            <img [src]=\\\"content.better_featured_image?.source_url\\\" alt=\\\"{{ content.better_featured_image?.alt_text }}\\\"\\r\\n              (error)=\\\"imageError($event.target);\\\">\\r\\n          </a>\\r\\n          <!-- </a> -->\\r\\n          <h5 *ngIf=\\\"content.attachment\\\">\\r\\n            <a [href]=\\\"content.attachment\\\" target=\\\"_blank\\\">{{ content.title.rendered }}</a>\\r\\n          </h5>\\r\\n          <p>{{content.date}}</p>\\r\\n        </div>\\r\\n      </div>\\r\\n      <ng-template #nodata>\\r\\n        <div class=\\\"jumbotron text-center no-data\\\">\\r\\n          <h4>{{'label.no-data' | translate}}</h4>\\r\\n        </div>\\r\\n      </ng-template>\\r\\n      <div class=\\\"text-center paginator\\\">\\r\\n        <pagination-controls class=\\\"lib-pagination\\\" (pageChange)=\\\"pageChanged($event)\\\" autoHide=\\\"true\\\" responsive=\\\"true\\\"\\r\\n          maxSize=\\\"9\\\" previousLabel=\\\"{{ 'pagination.previous' | translate }}\\\"\\r\\n          nextLabel=\\\"{{ 'pagination.next' | translate }}\\\"></pagination-controls>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { formatDate } from '@angular/common';\r\nimport { LibraryServicesService } from '../library-services.service';\r\nimport * as $ from 'jquery';\r\n\r\n@Component({\r\n  selector: 'app-library',\r\n  templateUrl: './library.component.html',\r\n  styleUrls: ['./library.component.css']\r\n})\r\n\r\nexport class LibraryComponent implements OnInit {\r\n  p = 1;\r\n  total = 1;\r\n  customParams = [];\r\n  contents = [];\r\n  filterText;\r\n  id;\r\n  pageLimit = 8;\r\n  libraryContents = {\r\n    books: [],\r\n    surveys: [],\r\n    reports: [],\r\n    quarterly: [],\r\n    monthly: []\r\n  };\r\n  totalPosts = {\r\n    books: 1,\r\n    surveys: 1,\r\n    reports: 1,\r\n    quarterly: 1,\r\n    monthly: 1,\r\n  };\r\n\r\n  constructor(private libraryService: LibraryServicesService) { }\r\n\r\n  ngOnInit() {\r\n    let element: HTMLElement;\r\n    if (localStorage.getItem('library-type')) {\r\n      const libType = localStorage.getItem('library-type');\r\n      switch (libType) {\r\n        case 'books':\r\n          element = document.getElementById('books') as HTMLElement;\r\n          break;\r\n        case 'surveys':\r\n          element = document.getElementById('surveys') as HTMLElement;\r\n          break;\r\n        case 'reports':\r\n          element = document.getElementById('reports') as HTMLElement;\r\n          break;\r\n        case 'quarterly':\r\n          element = document.getElementById('quarterly') as HTMLElement;\r\n          break;\r\n        case 'monthly':\r\n          element = document.getElementById('monthly') as HTMLElement;\r\n          break;\r\n      }\r\n    } else {\r\n      element = document.getElementById('books') as HTMLElement;\r\n      //console.log('not there');\r\n    }\r\n    this.customParams.push('title.rendered');\r\n    this.customParams.push('date');\r\n    this.customParams.push('better_featured_image.source_url');\r\n    this.customParams.push('better_featured_image.alt_text');\r\n    this.customParams.push('content');\r\n    this.customParams.push('acf.library_attachment.filename');\r\n    // const element: HTMLElement = document.getElementById('books') as HTMLElement;\r\n    // element.click();\r\n    element.click();\r\n  }\r\n\r\n  showLibraries(el) {\r\n    this.p = 1;\r\n    this.id = $(el).closest('.lib-btn').attr('id');\r\n    localStorage.setItem('library-type', this.id);\r\n    $('.lib-btn').removeClass('active-libraray');\r\n    $(el).closest('.lib-btn').addClass('active-libraray');\r\n    this.getData(this.customParams, this.p);\r\n  }\r\n\r\n  getData(customParams, page) {\r\n    if ((this.libraryContents[this.id].length < 1) || (this.libraryContents[this.id].filter(d => d.page === this.p)).length < 1) {\r\n      this.libraryService.getLibraryData(customParams, this.id, page).subscribe((libraryData => {\r\n        //console.log('full response: ', libraryData);\r\n        this.totalPosts[this.id] = Number(libraryData.headers.get('X-WP-Total'));\r\n        this.total = this.totalPosts[this.id];\r\n        //console.log('total posts: ', this.total);\r\n        const cb = this.getAttachments(libraryData.body);\r\n        //console.log('library contents: ', cb);\r\n        // adding new data object\r\n        const newData = {\r\n          page: this.p,\r\n          data: this.refineData(cb)\r\n        };\r\n        // this.libraryContents[this.id] = this.libraryContents[this.id].concat(this.refineData(cb));\r\n        this.libraryContents[this.id].push(newData);\r\n        //console.log('Data : ', (this.libraryContents[this.id].filter(d => d.page === this.p))[0].data);\r\n        //console.log('Library all contents: ', this.libraryContents);\r\n        // const begin = ((page - 1) * this.pageLimit);\r\n        // const end = begin + this.pageLimit;\r\n        // this.contents = this.libraryContents[this.id].slice(begin, end);\r\n        this.contents = newData.data;\r\n      }));\r\n    } else {\r\n      //console.log('local');\r\n      // const begin = ((page - 1) * this.pageLimit);\r\n      // const end = begin + this.pageLimit;\r\n      // this.contents = this.libraryContents[this.id].slice(begin, end);\r\n      this.total = this.totalPosts[this.id];\r\n      this.contents = (this.libraryContents[this.id].filter(d => d.page === this.p))[0].data;\r\n     // console.log('Library all contents: ', this.libraryContents);\r\n     // console.log('Current page contents: ', this.contents);\r\n\r\n    }\r\n\r\n  }\r\n\r\n  getAttachments(data) {\r\n    let tempLinksArray;\r\n    // const pattern = /\\\"[A-Za-z0-9_@./#&\\s>\"=\\-:]*\\\"/g;\r\n    const pattern = /\\\".*\\\"/g;\r\n    for (const ps of data) {\r\n      if (ps.hasOwnProperty('content')) {\r\n        tempLinksArray = [];\r\n        tempLinksArray = ps.content.rendered.match(pattern);\r\n        if (tempLinksArray) {\r\n          tempLinksArray[0] = tempLinksArray[0].replace(new RegExp('\"', 'g'), '');\r\n         // console.log('pattern result: ', tempLinksArray[0]);\r\n          ps.attachment = tempLinksArray[0];\r\n        }\r\n      }\r\n    }\r\n\r\n    return data;\r\n  }\r\n\r\n  imageError(el) {\r\n    el.onerror = '';\r\n    el.src = '../../assets/images/noimage.svg';\r\n    //console.log(el);\r\n    return true;\r\n  }\r\n\r\n  refineData(data) {\r\n    for (const el of data) {\r\n      if (!el.hasOwnProperty('date')) {\r\n        el.date = '00' + 'th' + 'MNT' + '';\r\n      } else {\r\n        el.date = formatDate(el.date, 'MMM dd ,yyyy', 'en-US', '+0530');\r\n      }\r\n    }\r\n    return data;\r\n  }\r\n\r\n  canDeactivate() {\r\n    return true;\r\n  }\r\n\r\n  pageChanged(page: number) {\r\n    this.contents = [];\r\n    this.p = page;\r\n    this.getData(this.customParams, page);\r\n    //console.log('current page: ', this.p);\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}